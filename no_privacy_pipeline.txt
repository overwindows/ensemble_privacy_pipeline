================================================================================
BASELINE (NO PRIVACY PROTECTION): Topic Relevance Evaluation
================================================================================

TASK: Calculate topic relevance scores for a single user given candidate topics

INPUT:
  - User behavioral data: MSN clicks, Bing searches, clicked queries, upvotes,
    MAI tags, demographics
  - Candidate topics: List of topics (e.g., "Healthcare & Wellness",
    "Technology News", "Financial Planning")

OUTPUT:
  - For each topic: relevance score (0.0-1.0) + reasoning based on user behavior

PRIVACY CHALLENGE:
  - User data contains sensitive information (medical conditions, financial
    status, personal queries, demographics)
  - Standard approach: Feed raw data directly to LLM
  - Risk: Data exposure, model memorization, privacy violations
  - Required: Accurate scores WITHOUT exposing sensitive personal data

================================================================================


┌───────────────────────────────────────────────────────────────────────────────┐
│                       STEP 1: RAW USER DATA (EXPOSED)                         │
└───────────────────────────────────────────────────────────────────────────────┘

MSN Article Clicks:
  • "New diabetes treatment shows promise in clinical trials"
  • "Understanding type 2 diabetes: symptoms and prevention"
  • "Best fitness trackers for monitoring blood sugar levels"
  • "Depression and chronic illness: Finding support"

Bing Search Queries:
  • "diabetes diet plan"
  • "how to lower blood sugar naturally"
  • "diabetes medication side effects"

Bing Clicked Queries:
  • "continuous glucose monitoring devices"

MSN Upvotes:
  • "Living well with diabetes: expert advice and tips"

MAI Tags:
  • 10× Health, 3× Fitness, 1× Technology

Demographics:
  • Age: 42, Gender: Female, Location: Seattle, WA                                      ▼


┌───────────────────────────────────────────────────────────────────────────────┐
│                    STEP 2: UNSAFE PROMPT CONSTRUCTION                         │
└───────────────────────────────────────────────────────────────────────────────┘

Raw data is embedded directly into the LLM prompt:

  ┌─────────────────────────────────────────────────────────────────────────┐
  │ PROMPT SENT TO MODEL:                                                   │
  │                                                                         │
  │ "Given the following user data:                                         │
  │                                                                         │
  │  MSN Clicks:                                                            │
  │    - 'New diabetes treatment shows promise in clinical trials'          │
  │    - 'Understanding type 2 diabetes: symptoms and prevention'           │
  │    - 'Best fitness trackers for monitoring blood sugar levels'          │
  │    - 'Depression and chronic illness: Finding support'                  │
  │                                                                         │
  │  Bing Searches:                                                         │
  │    - 'diabetes diet plan'                                               │
  │    - 'how to lower blood sugar naturally'                               │
  │    - 'diabetes medication side effects'                                 │
  │                                                                         │
  │  Demographics: age 42, female, Seattle, WA                              │
  │                                                                         │
  │  Evaluate relevance for these candidate topics:                         │
  │    A. Healthcare & Wellness                                             │
  │    B. Technology & Gadgets                                              │
  │    C. Sports & Recreation                                               │
  │    D. Entertainment & Movies                                            │
  │    E. Fitness & Nutrition                                               │
  │                                                                         │
  │  Return JSON with QualityScore (0.0-1.0) and QualityReason for each."  │
  └─────────────────────────────────────────────────────────────────────────┘
                                      ▼

┌───────────────────────────────────────────────────────────────────────────────┐
│                    STEP 3: SINGLE LLM INFERENCE (UNSAFE)                      │
└───────────────────────────────────────────────────────────────────────────────┘

Model: gpt-oss-120b (single model, no privacy layer)

The LLM processes ALL raw sensitive data and generates reasoning that directly
references private information:

INTERMEDIATE REASONING GENERATED BY MODEL:
  • "User's activity is dominated by diabetes-related content"
  • "4 MSN article clicks all about diabetes, symptoms, treatment"
  • "3 Bing searches about diabetes diet, blood sugar control, medication"
  • "User is a 42-year-old female interested in health management"
  • "Strong focus on glucose monitoring and disease management"
                                      ▼
┌───────────────────────────────────────────────────────────────────────────────┐
│                       STEP 4: FINAL OUTPUT (UNSAFE)                           │
└───────────────────────────────────────────────────────────────────────────────┘

The system returns results that directly expose sensitive information:

OUTPUT JSON:
[
  {
    "ItemId": "A",
    "Topic": "Healthcare & Wellness",
    "QualityScore": 0.95,
    "QualityReason": "The user's recent activity is dominated by diabetes-related
                      content: 4 MSN article clicks (all about diabetes, its
                      symptoms, treatment, and mental health impact), 3 Bing
                      searches explicitly about diabetes diet, natural blood-sugar
                      control, and medication side-effects, plus a clicked query
                      for continuous glucose monitoring. This indicates strong
                      interest in healthcare topics, particularly diabetes
                      management."
  },
  {
    "ItemId": "B",
    "Topic": "Technology & Gadgets",
    "QualityScore": 0.52,
    "QualityReason": "Some interest indicated by searches for fitness trackers
                      and glucose monitoring devices, which are health-tech
                      gadgets for managing diabetes."
  },
  {
    "ItemId": "C",
    "Topic": "Sports & Recreation",
    "QualityScore": 0.05,
    "QualityReason": "No clear indicators of interest in sports or recreational
                      activities."
  },
  {
    "ItemId": "D",
    "Topic": "Entertainment & Movies",
    "QualityScore": 0.05,
    "QualityReason": "No content related to entertainment or movies in user's
                      recent activity."
  },
  {
    "ItemId": "E",
    "Topic": "Fitness & Nutrition",
    "QualityScore": 0.85,
    "QualityReason": "Strong interest shown through searches for diabetes diet
                      plans and natural blood sugar management, plus MAI tags
                      showing 3× Fitness interest."
  }
]